<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="icon" type="image/jpg" href="favicon.jpg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Project 3</title>
  <style>
    body {
      margin: 0;
      background-color: black;
      color: pink;
      font-family: "Courier New", monospace;
      overflow: hidden;
    }

    .heart {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      cursor: pointer;
      animation: pulse 1.5s infinite;
      z-index: 10;
    }

    .heart img {
      width: 90vw;
      max-width: 640px;
      height: auto;
    }

    .heart span {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: pink;
      font-size: 32px;
      font-weight: bold;
      text-shadow: 0 0 10px pink;
    }

    @keyframes pulse {
      0%, 100% { transform: translate(-50%, -50%) scale(1); }
      50% { transform: translate(-50%, -50%) scale(1.1); }
    }

    .fade-out {
      animation: fadeOut 1s forwards;
    }

    @keyframes fadeOut {
      to { opacity: 0; transform: translate(-50%, -50%) scale(0.5) rotate(180deg); }
    }

    .love-text {
      position: absolute;
      color: #ff80c0;
      font-size: 16px;
      font-weight: bold;
      opacity: 0;
      white-space: pre;
      pointer-events: none;
      text-shadow: 0 0 6px #ff66b2;
      animation: floatUp 3s forwards ease-in-out;
    }

    @keyframes floatUp {
      0% { opacity: 0; transform: translateY(10px); }
      20% { opacity: 1; }
      80% { opacity: 1; }
      100% { opacity: 0; transform: translateY(-30px); }
    }

    .chat-box {
      position: fixed;
      bottom: 20px;
      left: 20px;
      width: 340px;
      max-height: 280px;
      background: rgba(0, 0, 0, 0.4);
      border: 2px solid #ff66b2;
      border-radius: 10px;
      box-shadow: 0 0 20px #ff66b2;
      overflow-y: auto;
      padding: 10px;
      color: pink;
      font-size: 15px;
      white-space: pre-wrap;
    }

    .chat-line {
      margin: 3px 0;
      opacity: 0;
      transform: translateY(10px);
      animation: appear 1s forwards ease-out;
    }

    @keyframes appear {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .float-img {
      position: absolute;
      width: 150px;
      opacity: 0;
      transition: opacity 2s ease, transform 2s ease;
    }

    .clear-btn, .restart-btn {
      position: fixed;
      bottom: 15px;
      background: #ff66b2;
      border: none;
      padding: 8px 16px;
      color: white;
      font-weight: bold;
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 0 10px #ff66b2;
      transition: 0.3s;
    }

    .clear-btn:hover, .restart-btn:hover {
      background: #ff1493;
    }

    .clear-btn { right: 15px; }
    .restart-btn { right: 120px; }

    #music-icon {
      position: fixed;
      top: 20px;
      right: 20px;
      width: 48px;
      height: 48px;
      background: url('music-icon.png') no-repeat center center / cover;
      cursor: pointer;
      z-index: 20;
    }

    #music-icon.playing {
      animation: spin 4s linear infinite;
    }

    @keyframes spin {
      100% { transform: rotate(360deg); }
    }

    #neonText {
      display: block;
      white-space: pre-wrap;
      font-size: 20px;
      position: absolute;
      top: 10%;
      left: 50%;
      transform: translateX(-50%);
      color: pink;
      text-shadow: 0 0 8px #ff80c0;
      text-align: center;
      max-width: 90%;
    }

    .cursor {
      animation: blink 1s step-start infinite;
    }

    @keyframes blink {
      50% { opacity: 0; }
    }
  </style>
</head>
<body>

<!-- Nút b?t/t?t nh?c -->
<div id="music-icon"></div>
<audio id="bg-music" src="music.mp3" loop></audio>

<!-- Trái tim trung tâm -->
<div class="heart" id="heart">
  <img src="img1.png" alt="heart" />
  <span>an?</span>
</div>

<!-- Text neon -->
<pre id="neonText"><span id="typingText"></span><span class="cursor">|</span></pre>

<!-- H?p chat -->
<div class="chat-box" id="chatBox"></div>

<!-- Nút clear -->
<button class="clear-btn" onclick="clearText()">Clear</button>
<button class="restart-btn" onclick="location.reload()">Restart</button>

<script>
/* Nh?c */
const musicIcon = document.getElementById('music-icon');
const music = document.getElementById('bg-music');
let playing = false;

musicIcon.addEventListener('click', () => {
  if (!playing || music.paused) {
    music.play();
    playing = true;
    musicIcon.classList.add('playing');
  } else {
    music.pause();
    musicIcon.classList.remove('playing');
  }
});

/* Neon text */
const lines = [
  ":>",
 "loan vao lai roi ne",
  "00 neu loan dung chrome tren dt",
  "thi nho bat dekstop size len nhen",
  "loan yeu co nghi la thinh thoang minh nen viet",
  "may cai linh tinh len day khong",
  "de luc nao do ranh roi",
  "loan yeu vao doc chang han",
  "cho minh y kien voi nhen",
  "..",
  "neu co gi do",
  "hoat dong khong dung tren day",
  "thi bao minh nhe",
  "du minh khong biet do nghia la gi nua;D",
  "aya, banh hom nay ngon khong",
  "..",
  "co le du no khong ngon nhung loan se khong noi ra@@",
  "nhung ma",
  "neu loan yeu bao khong ngon, biet dau",
  "se duoc cai ngon hon, he:>",
  "bai",
  "...",
  "bai, minh khong muon nhung khong nghi ra gi nua roi",
  "moi lan loan yeu vao day se het met moi, xua di noi buon",
  "va gap nhieu dieu tot nua.. minh mong la nhu vay",
];
let lineIndex = 0;

function startNeonText() {
  const typingText = document.getElementById("typingText");
  const cursor = document.querySelector(".cursor");

  function typeLine() {
    if (lineIndex >= lines.length) return;
    let line = lines[lineIndex];
    let i = 0;
    typingText.textContent += '\n';

    const interval = setInterval(() => {
      if (i < line.length) {
        typingText.textContent += line[i];
        i++;
      } else {
        clearInterval(interval);
        lineIndex++;
        setTimeout(typeLine, 2000);
      }
    }, 100);
  }

  typeLine();
}

/* Trái tim */
const asciiLines = `
I Love You
I Love You
I Love You
I Love You
 I Love You
  I Love You
   I Love You
    I Love You
     I Love You
      I Love You
       I Love You
        I Love You
         I Love You
          I Love You
           I Love You
            I Love You
             I Love You
              I Love You
               I Love You
                I Love You
                 I Love You
                  I Love You
                   I Love You
                    I Love You
                    I Love You
                   I Love You
                  I Love You
                 I Love You
                I Love You
               I Love You
              I Love You
             I Love You
            I Love You
           I Love You
          I Love You
         I Love You
        I Love You
       I Love You
      I Love You
     I Love You
    I Love You
   I Love You
  I Love You
 I Love You
I Love You
I Love You
 I Love You
  I Love You
   I Love You
    I Love You
     I Love You
      I Love You
       I Love You
        I Love You
         I Love You
          I Love You
           I Love You
            I Love You
             I Love You
              I Love You
               I Love You
                I Love You
                 I Love You
                  I Love You
                   I Love You
                    I Love You
                    I Love You
                   I Love You
                  I Love You
                 I Love You
                I Love You
               I Love You
              I Love You
             I Love You
            I Love You
           I Love You
          I Love You
         I Love You
        I Love You
       I Love You
      I Love You
     I Love You
    I Love You
   I Love You
  I Love You
 I Love You
I Love You
I Love You
I Love Yo u
I Love Yo  u
I Love Yo   u
I Love Yo    u
I Love Y o    u
I Love Y  o    u
I Love Y   o    u
I Love Y    o    u
I Love  Y    o    u
I Love   Y    o    u
I Love    Y    o    u
I Love     Y    o    u
I Love      Y    o    u
I Love       Y    o    u
I Love        Y    o    u
I Love         Y    o    u
I Lov e         Y    o    u
I Lov  e         Y    o    u
I Lov   e         Y    o    u
I Lov    e         Y    o    u
I Lo v    e         Y    o    u
I Lo  v    e         Y    o    u
I Lo   v    e         Y    o    u
I Lo    v    e         Y    o    u
I L o    v    e         Y    o    u
I L  o    v    e         Y    o    u
I L   o    v    e         Y    o    u
I L    o    v    e         Y    o    u
I  L    o    v    e         Y    o    u
I   L    o    v    e         Y    o    u
I    L    o    v    e         Y    o    u
I     L    o    v    e         Y    o    u
I      L    o    v    e         Y    o    u
I       L    o    v    e         Y    o    u
I        L    o    v    e         Y    o    u
I         L    o    v    e         Y    o    u
 I         L    o    v    e         Y    o    u
  I         L    o    v    e         Y    o    u
   I         L    o    v    e         Y    o    u
    I         L    o    v    e         Y    o    u
     I         L    o    v    e         Y    o   u
      I         L    o    v    e         Y    o  u
       I         L    o    v    e         Y    o u
        I         L    o    v    e         Y    ou
         I         L    o    v    e         Y   ou
          I         L    o    v    e         Y  ou
           I         L    o    v    e         Y ou
            I         L    o    v    e         You
             I         L    o    v    e        You
              I         L    o    v    e       You
               I         L    o    v    e      You
                I         L    o    v    e     You
                 I         L    o    v    e    You
                  I         L    o    v    e   You
                   I         L    o    v    e  You
                    I         L    o    v    e You
                     I         L    o    v    eYou
                      I         L    o    v   eYou
                       I         L    o    v  eYou
                        I         L    o    v eYou
                         I         L    o    veYou
                          I         L    o   veYou
                           I         L    o  veYou
                            I         L    o veYou
                             I         L    oveYou
                              I         L   oveYou
                               I         L  oveYou
                                I         L oveYou
                                 I         LoveYou
                                  I        LoveYou
                                   I       LoveYou
                                    I      LoveYou
                                     I     LoveYou
                                      I    LoveYou
                                       I   LoveYou
                                        I  LoveYou
                                        I Love You
                                        I Love You
                                        I Love You
                                        I Love You
                                        I Love You
                                        I Love You
                                        I Love You
                                        I Love You
                                        I Love You
                                       I Lo v e You
                                      I Lo  v  e You
                                     I Lo   v   e You
                                    I Lo    v    e You
                                   I Lo     v     e You
                                  I Lo      v      e You
                                 I Lo       v       e You
                                I Lo        v        e You
                               I Lo         v         e You
                              I Lo          v          e You
                              I Lo         v           e You
                              I Lo        v            e You
                              I Lo       v             e You
                              I Lo        v            e You
                              I Lo         v           e You
                              I Lo          v          e You
                              I Lo           v         e You
                              I Lo            v        e You
                              I Lo             v       e You
                              I Lo            v        e You
                              I Lo           v         e You
                              I Lo          v          e You
                              I Lo         v           e You
                              I Lo        v            e You
                              I Lo       v             e You
                              I Lo        v            e You
                              I Lo         v           e You
                              I Lo          v          e You
                              I Lo           v         e You
                              I Lo            v        e You
                              I Lo             v       e You
                              I Lo            v        e You
                              I Lo           v         e You
                              I Lo          v          e You
                               I Lo         v         e You
                                I Lo        v        e You
                                 I Lo       v       e You
                                  I Lo      v      e You
                                   I Lo     v     e You
                                    I Lo    v    e You
                                     I Lo   v   e You
                                      I Lo  v  e You
                                       I Lo v e You
                                        I Love You
                                        I Love You
                                        I Love You
                                        I Love You
                                        I Love You
                                       I Love You
                                      I Love You
                                     I Love You
                                    I Love You
                                   I Love You
                                  I Love You
                                 I Love You
                                I Love You
                               I Love You
                              I Love You
                             I Love You
                            I Love You
                           I Love You
                          I Love You
                         I Love You
                        I Love You
                       I Love You
                      I Love You
                     I Love You
                    I Love You
                   I Love You
                  I Love You
                 I Love You
                I Love You
               I Love You
              I Love You
             I Love You
            I Love You
           I Love You
          I Love You
         I Love You
        I Love You
       I Love You
      I Love You
     I Love You
    I Love You
   I Love You
  I Love You
 I Love You
I Love You
 I Love You
  I Love You
   I Love You
    I Love You
     I Love You
    I  Love You
   I   Love You
  I    Love You
 I     Love You
I      Love You
I      Love You
I      Love You
I      Love You
I      Love You
I      Love You
I     L ove You
I    L  ove You
I   L   ove You
I  L    ove You
I L     ove You
I L    o ve You
I L   o  ve You
I L  o   ve You
I L o    ve You
I Lo     ve You
I Lo    v e You
I Lo   v  e You
I Lo  v   e You
I Lo v    e You
I Lov     e You
I Lov    e  You
I Lov   e   You
I Lov  e    You
I Lov e     You
I Love      You
I Love      You
I Love      You
I Love      You
I Love      You
I Love      You
I Love     Y ou
I Love    Y  ou
I Love   Y   ou
I Love  Y    ou
I Love Y     ou
I Love Y    o u
I Love Y   o  u
I Love Y  o   u
I Love Y o    u
I Love Yo     u
I Love Yo    u 
I Love Yo   u  
I Love Yo  u   
I Love Yo u    
I Love You     
I Love You
uI Love Yo
ouI Love Y
YouI Love 
 YouI Love
e YouI Lov
ve YouI Lo
ove YouI L
Love YouI 
 Love YouI
I Love You
uI Love Yo
ouI Love Y
YouI Love 
 YouI Love
e YouI Lov
ve YouI Lo
ove YouI L
Love YouI 
 Love YouI
I Love You
uI Love Yo
ouI Love Y
YouI Love 
 YouI Love
e YouI Lov
ve YouI Lo
ove YouI L
Love YouI 
 Love YouI
I Love You
I Love You
 I Love You
  I Love You
   I Love You
    I Love You
     I Love You
      I Love You
       I Love You
        I Love You
         I Love You
          I Love You
         I Lov  e You
        I Lov    e You
       I Lov      e You
      I Lov        e You
     I Lov          e You
    I Lov            e You
   I Lov              e You
  I Lov                e You
 I Lov                  e You
I Lov                    e You
 I Lov                  e You
  I Lov                e You
   I Lov              e You
    I Lov            e You
     I Lov          e You
      I Lov        e You
       I Lov      e You
        I Lov    e You
         I Lov  e You
          I Love You
           I Loe You
            I Le You
             I e You
              Ie You
               e You
              e Youv
             e Youov
            e YouLov
           e You Lov
          e YouI Lov
         e You  I Lov
        e You    I Lov
       e You      I Lov
      e You        I Lov
     e You          I Lov
    e You            I Lov
   e You              I Lov
  e You                I Lov
 e You                  I Lov
e You                    I Lov
 e You                  I Lov
  e You                I Lov
   e You              I Lov
    e You            I Lov
     e You          I Lov
      e You        I Lov
       e You      I Lov
        e You    I Lov
         e You  I Lov
          e YouI Lov
           e YoI Lov
            e YI Lov
             e I Lov
              eI Lov
               I Lov
              I Lovu
             I Lovou
            I LovYou
           I Lov You
          I Love You
         I Lov  e You
        I Lov    e You
       I Lov      e You
      I Lov        e You
     I Lov          e You
    I Lov            e You
   I Lov              e You
  I Lov                e You
 I Lov                  e You
I Lov                    e You
 I Lov                  e You
  I Lov                e You
   I Lov              e You
    I Lov            e You
     I Lov          e You
      I Lov        e You
       I Lov      e You
        I Lov    e You
         I Lov  e You
          I Love You
           I Loe You
            I Le You
             I e You
              Ie You
               e You
              e Youv
             e Youov
            e YouLov
           e You Lov
          e YouI Lov
         e You  I Lov
        e You    I Lov
       e You      I Lov
      e You        I Lov
     e You          I Lov
    e You            I Lov
   e You              I Lov
  e You                I Lov
 e You                  I Lov
e You                    I Lov
 e You                  I Lov
  e You                I Lov
   e You              I Lov
    e You            I Lov
     e You          I Lov
      e You        I Lov
       e You      I Lov
        e You    I Lov
         e You  I Lov
          e YouI Lov
           e YoI Lov
            e YI Lov
             e I Lov
              eI Lov
               I Lov
              I Lovu
             I Lovou
            I LovYou
           I Lov You
          I Love You
          I Love You
          I Love You
          I Love You
          I Love You
          I Love You
          I Love You
          I Love You
          I Love You
          I Love You
          I Love You
          I Love You
         I Love You
        I Love You
       I Love You
      I Love You
     I Love You
    I Love You
   I Love You
  I Love You
 I Love You
I Love You
I Love You
I Love You
I Love You
`;
const heart = document.getElementById("heart");
const chatBox = document.getElementById("chatBox");
let started = false;

heart.addEventListener("click", () => {
  if (started) return;
  started = true;
  heart.classList.add("fade-out");
  setTimeout(() => heart.remove(), 1000);
  startPrinting();
  startImageCycle();
  startNeonText();
});

function startPrinting() {
  const lines = asciiLines.trim().split("\n");
  let index = 0;

  const interval = setInterval(() => {
    if (index >= lines.length) {
      clearInterval(interval);
      return;
    }

    const text = lines[index];
    const line = document.createElement("div");
    line.className = "chat-line";
    line.textContent = text;
    chatBox.appendChild(line);
    chatBox.scrollTop = chatBox.scrollHeight;

    createFloatingText(text);
    index++;
  }, 250);
}

function createFloatingText(word) {
  const span = document.createElement("span");
  span.className = "love-text";
  span.textContent = word;
  span.style.top = Math.random() * 80 + "%";
  span.style.left = Math.random() * 80 + "%";
  span.style.transform += ` rotate(${(Math.random() - 0.5) * 30}deg)`;
  document.body.appendChild(span);
  setTimeout(() => span.remove(), 3000);
}

function startImageCycle() {
  showRandomImage();
  setInterval(showRandomImage, 30000);
}

function showRandomImage() {
  const img = document.createElement("img");
  const idx = Math.floor(Math.random() * 5) + 1;
  img.src = `img${idx}.png`;
  img.className = "float-img";
  img.style.top = Math.random() * 70 + "%";
  img.style.left = Math.random() * 80 + "%";
  img.style.transform = `rotate(${(Math.random() - 0.5) * 20}deg)`;
  document.body.appendChild(img);

  setTimeout(() => {
    img.style.opacity = 1;
    img.style.transform += " scale(1.1)";
  }, 100);

  setTimeout(() => {
    img.style.opacity = 0;
    img.style.transform += " scale(0.9)";
    setTimeout(() => img.remove(), 2000);
  }, 10000);
}

function clearText() {
  document.querySelectorAll(".love-text, .chat-line, .float-img").forEach(el => el.remove());
  chatBox.innerHTML = "";
  document.getElementById("typingText").textContent = "";
  lineIndex = 0;
}
</script>
</body>
</html>


